<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Kata Sandi Kuat</title>
    <!-- Memuat Tailwind CSS untuk styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Memuat Font Inter dari Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Menggunakan font Inter sebagai default */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Style kustom untuk slider */
        input[type=range] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            background: #4a5568;
            border-radius: 5px;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }
        input[type=range]:hover {
            opacity: 1;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #4299e1;
            cursor: pointer;
            border-radius: 50%;
        }
        input[type=range]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #4299e1;
            cursor: pointer;
            border-radius: 50%;
        }
    </style>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen">

    <div class="w-full max-w-md mx-auto bg-gray-800 rounded-2xl shadow-lg p-6 md:p-8 space-y-6">
        <!-- Judul -->
        <h1 class="text-2xl md:text-3xl font-bold text-center text-blue-400">Generator Kata Sandi Kuat</h1>

        <!-- Tampilan Kata Sandi dan Tombol Salin -->
        <div class="relative flex items-center bg-gray-900 rounded-lg p-4">
            <span id="passwordDisplay" class="flex-grow text-lg font-mono text-gray-300 truncate pr-16">Klik "Buat"</span>
            <button id="copyButton" class="absolute right-2 top-1/2 -translate-y-1/2 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-3 rounded-md transition duration-200 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                <span id="copyButtonText">Salin</span>
            </button>
        </div>

        <!-- Pengaturan Kustomisasi -->
        <div class="space-y-4">
            <!-- Pengaturan Panjang Karakter -->
            <div class="flex flex-col space-y-2">
                <div class="flex justify-between items-center">
                    <label for="length" class="font-medium">Panjang Karakter</label>
                    <span id="lengthValue" class="text-lg font-bold text-blue-400">12</span>
                </div>
                <input type="range" id="length" min="8" max="32" value="12" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
            </div>

            <!-- Opsi Karakter -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div class="flex items-center space-x-3 bg-gray-700 p-3 rounded-lg">
                    <input type="checkbox" id="includeUppercase" class="h-5 w-5 rounded text-blue-500 focus:ring-blue-500 border-gray-600 bg-gray-800" checked>
                    <label for="includeUppercase" class="font-medium select-none">Sertakan Huruf Besar (A-Z)</label>
                </div>
                <div class="flex items-center space-x-3 bg-gray-700 p-3 rounded-lg">
                    <input type="checkbox" id="includeLowercase" class="h-5 w-5 rounded text-blue-500 focus:ring-blue-500 border-gray-600 bg-gray-800" checked>
                    <label for="includeLowercase" class="font-medium select-none">Sertakan Huruf Kecil (a-z)</label>
                </div>
                <div class="flex items-center space-x-3 bg-gray-700 p-3 rounded-lg">
                    <input type="checkbox" id="includeNumbers" class="h-5 w-5 rounded text-blue-500 focus:ring-blue-500 border-gray-600 bg-gray-800" checked>
                    <label for="includeNumbers" class="font-medium select-none">Sertakan Angka (0-9)</label>
                </div>
                <div class="flex items-center space-x-3 bg-gray-700 p-3 rounded-lg">
                    <input type="checkbox" id="includeSymbols" class="h-5 w-5 rounded text-blue-500 focus:ring-blue-500 border-gray-600 bg-gray-800">
                    <label for="includeSymbols" class="font-medium select-none">Sertakan Simbol (!@#$)</label>
                </div>
            </div>
        </div>

        <!-- Tombol Buat Kata Sandi -->
        <button id="generateButton" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg text-lg transition duration-300 transform hover:scale-105">
            Buat Kata Sandi
        </button>

    </div>

    <script>
        // Mengambil elemen-elemen dari DOM
        const passwordDisplay = document.getElementById('passwordDisplay');
        const lengthSlider = document.getElementById('length');
        const lengthValue = document.getElementById('lengthValue');
        const includeUppercase = document.getElementById('includeUppercase');
        const includeLowercase = document.getElementById('includeLowercase');
        const includeNumbers = document.getElementById('includeNumbers');
        const includeSymbols = document.getElementById('includeSymbols');
        const generateButton = document.getElementById('generateButton');
        const copyButton = document.getElementById('copyButton');
        const copyButtonText = document.getElementById('copyButtonText');

        // Kumpulan karakter yang akan digunakan
        const uppercaseChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        const lowercaseChars = 'abcdefghijklmnopqrstuvwxyz';
        const numberChars = '0123456789';
        const symbolChars = '!@#$%^&*()_+-=[]{}|;:,.<>?';

        // Fungsi untuk membuat kata sandi
        function generatePassword() {
            // Mengambil nilai panjang dari slider
            const length = lengthSlider.value;
            // Variabel untuk menampung semua karakter yang mungkin
            let charset = '';

            // Menambahkan karakter berdasarkan pilihan checkbox
            if (includeUppercase.checked) {
                charset += uppercaseChars;
            }
            if (includeLowercase.checked) {
                charset += lowercaseChars;
            }
            if (includeNumbers.checked) {
                charset += numberChars;
            }
            if (includeSymbols.checked) {
                charset += symbolChars;
            }

            // Peringatan jika tidak ada tipe karakter yang dipilih
            if (charset === '') {
                passwordDisplay.textContent = 'Pilih tipe karakter!';
                return;
            }
            
            // Variabel untuk menyimpan kata sandi yang dihasilkan
            let password = '';
            // Loop untuk membuat kata sandi dengan panjang yang ditentukan
            for (let i = 0; i < length; i++) {
                const randomIndex = Math.floor(Math.random() * charset.length);
                password += charset[randomIndex];
            }

            // Menampilkan kata sandi yang dihasilkan
            passwordDisplay.textContent = password;
            // Mengembalikan teks tombol salin ke semula
            copyButtonText.textContent = 'Salin';
        }

        // Fungsi untuk menyalin kata sandi ke clipboard
        function copyPassword() {
            const password = passwordDisplay.textContent;
            
            // Jangan salin jika tidak ada kata sandi yang valid
            if (!password || password === 'Klik "Buat"' || password === 'Pilih tipe karakter!') {
                return;
            }

            // Menggunakan textarea sementara untuk menyalin teks
            const textarea = document.createElement('textarea');
            textarea.value = password;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy'); // execCommand lebih andal di beberapa browser/iframe
            document.body.removeChild(textarea);

            // Memberikan umpan balik visual kepada pengguna
            copyButtonText.textContent = 'Disalin!';
        }

        // Event listener untuk slider, agar nilai panjangnya selalu terupdate
        lengthSlider.addEventListener('input', (event) => {
            lengthValue.textContent = event.target.value;
        });

        // Event listener untuk tombol 'Buat Kata Sandi'
        generateButton.addEventListener('click', generatePassword);
        
        // Event listener untuk tombol 'Salin'
        copyButton.addEventListener('click', copyPassword);

    </script>

</body>
</html>
