<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Preview</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 h-screen flex flex-col">
  <nav class="bg-white shadow flex justify-between items-center px-6 py-3">
    <div class="text-xl font-bold">MoeClay Pages</div>
  
    <ul class="flex items-center space-x-6 relative">
      <!-- Home -->
      <li>
        <a href="/" class="text-gray-700 hover:text-blue-600">Home</a>
      </li>
  
      <!-- Tools Dropdown -->
      <li class="relative">
        <button id="toolsBtn" class="text-gray-700 hover:text-blue-600 flex items-center">
          Tools
          <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" stroke-width="2" 
            viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
  
        <!-- Dropdown (rata kanan + toggle click) -->
        <ul
          id="toolsMenu"
          class="absolute right-0 mt-2 w-40 bg-white border rounded shadow hidden"
        >
          <li>
            <a href="generator-password.html" class="block px-4 py-2 hover:bg-gray-100">
              Generator Password
            </a>
          </li>
          <li>
            <a href="generator-sshkey.html" class="block px-4 py-2 hover:bg-gray-100">
              Generator SSHKey
            </a>
          </li>
          <li>
            <a href="generator-Gradient.html" class="block px-4 py-2 hover:bg-gray-100">
              Generator Gradient CSS
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <!-- Konten Utama -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 flex-1 p-4 overflow-hidden">
    <!-- Input -->
    <div class="flex flex-col min-h-0">
      <label for="markdown-input" class="font-semibold mb-2">Input Markdown</label>
      <textarea 
        id="markdown-input" 
        class="flex-1 p-3 rounded-lg border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-auto"
        placeholder="Tulis Markdown di sini..."
      ></textarea>
    </div>

    <!-- Preview -->
    <div class="flex flex-col min-h-0">
      <label for="preview" class="font-semibold mb-2">Preview</label>
      <div 
        id="preview" 
        class="flex-1 p-4 rounded-lg border border-gray-300 shadow-sm bg-white prose max-w-none overflow-auto"
      ></div>
    </div>
  </div>

  <script>
    // start of navbar
    const btn = document.getElementById("toolsBtn");
    const menu = document.getElementById("toolsMenu");
  
    // Toggle dropdown saat tombol diklik
    btn.addEventListener("click", () => {
      menu.classList.toggle("hidden");
    });
  
    // Tutup dropdown jika klik di luar menu
    document.addEventListener("click", (e) => {
      if (!btn.contains(e.target) && !menu.contains(e.target)) {
        menu.classList.add("hidden");
      }
    });
    // end of navbar
    
    const textarea = document.getElementById("markdown-input");
    const preview = document.getElementById("preview");
    
    function updatePreview() {
      let rawText = textarea.value;
      // Ganti literal "\n" â†’ newline asli
      rawText = rawText.replace(/\\n/g, "\n");
      // Parse markdown
      let html = marked.parse(rawText);
      // Render newline jadi <br/>
      html = html.replace(/\n/g, "<br/>");
      preview.innerHTML = html;
    }

    textarea.addEventListener("input", updatePreview);
    updatePreview();
  </script>

</body>
</html>
