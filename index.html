<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Preview</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 h-screen flex flex-col">

  <!-- Header -->
  <h1 class="text-2xl font-bold p-4 bg-white shadow">Preview</h1>

  <!-- Konten Utama -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 flex-1 p-4 overflow-hidden">
    <!-- Input -->
    <div class="flex flex-col min-h-0">
      <label for="markdown-input" class="font-semibold mb-2">Input Markdown</label>
      <textarea 
        id="markdown-input" 
        class="flex-1 p-3 rounded-lg border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-auto"
        placeholder="Tulis Markdown di sini..."
      ></textarea>
    </div>

    <!-- Preview -->
    <div class="flex flex-col min-h-0">
      <label for="preview" class="font-semibold mb-2">Preview</label>
      <div 
        id="preview" 
        class="flex-1 p-4 rounded-lg border border-gray-300 shadow-sm bg-white prose max-w-none overflow-auto"
      ></div>
    </div>
  </div>

  <script>
    const textarea = document.getElementById("markdown-input");
    const preview = document.getElementById("preview");
    
    function updatePreview() {
      let rawText = textarea.value;
      // Ganti literal "\n" â†’ newline asli
      rawText = rawText.replace(/\\n/g, "\n");
      // Parse markdown
      let html = marked.parse(rawText);
      // Render newline jadi <br/>
      html = html.replace(/\n/g, "<br/>");
      preview.innerHTML = html;
    }

    textarea.addEventListener("input", updatePreview);
    updatePreview();
  </script>

</body>
</html>
